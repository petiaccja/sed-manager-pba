#-------------------------------------------------------------------------------
# Copyright © 2025 Péter Kardos
# SPDX-License-Identifier: MIT
#-------------------------------------------------------------------------------

pkgname=sed-manager-rs
pkgver=0.1.1
pkgrel=0
pkgdesc="Application to unlock self-encrypting drives"
url="https://github.com/petiaccja/sed-manager-rs"
arch="all"
license="Copyright (C) Péter Kardos - All Rights Reserved"
depends=""
depends_dev=""
makedepends="$depends_dev"
install=""
subpackages=""
source="https://github.com/petiaccja/sed-manager-rs/archive/refs/tags/v$pkgver.zip"
builddir="$srcdir/$pkgname-$pkgver"
options="!check"

build() {
    cargo build --profile release --package sed-manager-unlock
}

package() {
    mkdir -p $pkgdir/sbin
	cp "./target/release/sed-manager-unlock" "$pkgdir/sbin/"
}

sha512sums="14dec68a0cb679cc257a8cbe58173043aa98230deb5a4603c6b3be461967f52d8e7794b66d571e8ee75eb8fcc314a98aa93af4e2b6cff8488531ea86d63dc68a  v$pkgver.zip"